<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VLESS | V2Fly.org</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="apple-touch-icon" size="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" size="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" size="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" color="#5bbad5" href="/safari-pinned-tab.svg">
    <meta name="description" content="Project V 是一个工具集合，它可以帮助你打造专属的基础通信网络">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="apple-mobile-web-app-title" content="Project V">
    <meta name="application-name" content="Project V">
    <meta name="msapplication-TileColor" content="#da532c">
    <link rel="preload" href="/assets/css/0.styles.2970fce8.css" as="style"><link rel="preload" href="/assets/js/app.0a9b8f50.js" as="script"><link rel="preload" href="/assets/js/3.77274b2d.js" as="script"><link rel="preload" href="/assets/js/26.81fe1c3b.js" as="script"><link rel="prefetch" href="/assets/js/10.1616c6ca.js"><link rel="prefetch" href="/assets/js/11.ad937a5f.js"><link rel="prefetch" href="/assets/js/12.58309093.js"><link rel="prefetch" href="/assets/js/13.a6d67aad.js"><link rel="prefetch" href="/assets/js/14.cac08f2f.js"><link rel="prefetch" href="/assets/js/15.a7bf19b5.js"><link rel="prefetch" href="/assets/js/16.cb8fe4a6.js"><link rel="prefetch" href="/assets/js/17.d2cd9db6.js"><link rel="prefetch" href="/assets/js/18.44c784d6.js"><link rel="prefetch" href="/assets/js/19.98b692d7.js"><link rel="prefetch" href="/assets/js/20.ce28bcdb.js"><link rel="prefetch" href="/assets/js/21.11f946b0.js"><link rel="prefetch" href="/assets/js/22.99f2054d.js"><link rel="prefetch" href="/assets/js/23.1c2edaf1.js"><link rel="prefetch" href="/assets/js/24.87486a6a.js"><link rel="prefetch" href="/assets/js/25.dc5f5c2e.js"><link rel="prefetch" href="/assets/js/27.098bc7b0.js"><link rel="prefetch" href="/assets/js/28.da06774f.js"><link rel="prefetch" href="/assets/js/29.5adbaba4.js"><link rel="prefetch" href="/assets/js/30.cc891c62.js"><link rel="prefetch" href="/assets/js/31.80b83111.js"><link rel="prefetch" href="/assets/js/32.f68f7b86.js"><link rel="prefetch" href="/assets/js/33.6607d683.js"><link rel="prefetch" href="/assets/js/34.de233d11.js"><link rel="prefetch" href="/assets/js/35.7e8f32c6.js"><link rel="prefetch" href="/assets/js/36.c5a241e8.js"><link rel="prefetch" href="/assets/js/37.2b2dcb4c.js"><link rel="prefetch" href="/assets/js/38.5e712b41.js"><link rel="prefetch" href="/assets/js/39.5b144afe.js"><link rel="prefetch" href="/assets/js/4.a239955f.js"><link rel="prefetch" href="/assets/js/40.e54ef3c6.js"><link rel="prefetch" href="/assets/js/41.39959fbb.js"><link rel="prefetch" href="/assets/js/42.26c363ea.js"><link rel="prefetch" href="/assets/js/43.4af4b7ad.js"><link rel="prefetch" href="/assets/js/44.79c74714.js"><link rel="prefetch" href="/assets/js/45.e74c1ab7.js"><link rel="prefetch" href="/assets/js/46.9d1ab23d.js"><link rel="prefetch" href="/assets/js/47.50d0cbd8.js"><link rel="prefetch" href="/assets/js/48.49bfe6b1.js"><link rel="prefetch" href="/assets/js/49.006f3f6b.js"><link rel="prefetch" href="/assets/js/5.777c2f51.js"><link rel="prefetch" href="/assets/js/50.dcf962e7.js"><link rel="prefetch" href="/assets/js/51.585148bd.js"><link rel="prefetch" href="/assets/js/6.5f703a66.js"><link rel="prefetch" href="/assets/js/7.7dde2d9a.js"><link rel="prefetch" href="/assets/js/8.f74d3224.js"><link rel="prefetch" href="/assets/js/9.a55926c1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.933fbd93.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2970fce8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/v2ray.png" alt="V2Fly.org" class="logo"> <span class="site-name can-hide">V2Fly.org</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/start.html" class="nav-link">
  快速开始
</a></div><div class="nav-item"><a href="/config/overview.html" class="nav-link">
  配置文档
</a></div><div class="nav-item"><a href="/awesome/tools.html" class="nav-link">
  工具列表
</a></div><div class="nav-item"><a href="/developer/intro/compile.html" class="nav-link">
  开发手册
</a></div><div class="nav-item"><a href="https://guide.v2fly.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  新白话文指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/v2fly" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/start.html" class="nav-link">
  快速开始
</a></div><div class="nav-item"><a href="/config/overview.html" class="nav-link">
  配置文档
</a></div><div class="nav-item"><a href="/awesome/tools.html" class="nav-link">
  工具列表
</a></div><div class="nav-item"><a href="/developer/intro/compile.html" class="nav-link">
  开发手册
</a></div><div class="nav-item"><a href="https://guide.v2fly.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  新白话文指南
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/v2fly" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>配置文件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/config/overview.html" class="sidebar-link">配置文件格式</a></li><li><a href="/config/dns.html" class="sidebar-link">DNS 服务器</a></li><li><a href="/config/routing.html" class="sidebar-link">Routing 路由</a></li><li><a href="/config/policy.html" class="sidebar-link">Policy 本地策略</a></li><li><a href="/config/inbounds.html" class="sidebar-link">Inbounds</a></li><li><a href="/config/outbounds.html" class="sidebar-link">Outbounds</a></li><li><a href="/config/transport.html" class="sidebar-link">Transport</a></li><li><a href="/config/api.html" class="sidebar-link">API 远程控制</a></li><li><a href="/config/stats.html" class="sidebar-link">Stats 统计信息</a></li><li><a href="/config/reverse.html" class="sidebar-link">Reverse 反向代理</a></li><li><a href="/config/multiple_config.html" class="sidebar-link">多文件配置</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>协议列表</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/config/protocols/blackhole.html" class="sidebar-link">Blackhole</a></li><li><a href="/config/protocols/dns.html" class="sidebar-link">DNS</a></li><li><a href="/config/protocols/dokodemo.html" class="sidebar-link">Dokodemo-door</a></li><li><a href="/config/protocols/freedom.html" class="sidebar-link">Freedom</a></li><li><a href="/config/protocols/http.html" class="sidebar-link">HTTP</a></li><li><a href="/config/protocols/mtproto.html" class="sidebar-link">MTProto</a></li><li><a href="/config/protocols/shadowsocks.html" class="sidebar-link">Shadowsocks</a></li><li><a href="/config/protocols/socks.html" class="sidebar-link">Socks</a></li><li><a href="/config/protocols/vless.html" aria-current="page" class="active sidebar-link">VLESS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/config/protocols/vless.html#outboundconfigurationobject" class="sidebar-link">OutboundConfigurationObject</a></li><li class="sidebar-sub-header"><a href="/config/protocols/vless.html#inboundconfigurationobject" class="sidebar-link">InboundConfigurationObject</a></li><li class="sidebar-sub-header"><a href="/config/protocols/vless.html#fallbackobject" class="sidebar-link">FallbackObject</a></li><li class="sidebar-sub-header"><a href="/config/protocols/vless.html#一些说明" class="sidebar-link">一些说明</a></li><li class="sidebar-sub-header"><a href="/config/protocols/vless.html#新型协议回落模式解析" class="sidebar-link">新型协议回落模式解析</a></li><li class="sidebar-sub-header"><a href="/config/protocols/vless.html#客户端指引" class="sidebar-link">客户端指引</a></li><li class="sidebar-sub-header"><a href="/config/protocols/vless.html#vless-分享链接标准" class="sidebar-link">VLESS 分享链接标准</a></li></ul></li><li><a href="/config/protocols/vmess.html" class="sidebar-link">VMess</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>传输方式</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/config/transport/tcp.html" class="sidebar-link">TCP</a></li><li><a href="/config/transport/mkcp.html" class="sidebar-link">mKCP</a></li><li><a href="/config/transport/websocket.html" class="sidebar-link">WebSocket</a></li><li><a href="/config/transport/h2.html" class="sidebar-link">HTTP/2</a></li><li><a href="/config/transport/domainsocket.html" class="sidebar-link">DomainSocket</a></li><li><a href="/config/transport/quic.html" class="sidebar-link">QUIC</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vless"><a href="#vless" class="header-anchor">#</a> VLESS</h1> <ul><li>名称：<code>vless</code></li> <li>类型：入站 / 出站</li></ul> <p><strong>当前版本：VLESS PREVIEW 1.5（v2ray-core v4.27.2+）</strong></p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>目前 VLESS 没有自带加密，请用于可靠信道，如 TLS。<br>
VLESS 处于公测阶段，测试期间请确保客户端与服务端的 v2ray-core 均为最新版本。<br>
VLESS 的内测仓库为 <a href="https://github.com/rprx/v2ray-vless" target="_blank" rel="noopener noreferrer">rprx/v2ray-vless<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，其中 PREVIEW 系列的新版本会在发布一段时间后并入 <a href="https://github.com/v2fly/v2ray-core" target="_blank" rel="noopener noreferrer">v2fly/v2ray-core<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></div> <p>VLESS 是一个无状态的轻量传输协议，它分为入站和出站两部分，可以作为 V2Ray 客户端和服务器之间的桥梁。</p> <p>与 <a href="/config/protocols/vmess.html">VMess</a> 不同，VLESS 不依赖于系统时间，认证方式同样为 UUID，但不需要 alterId。</p> <p>VLESS 的配置分为两部分，<code>InboundConfigurationObject</code> 和 <code>OutboundConfigurationObject</code>，分别对应入站和出站协议配置中的 <code>settings</code> 项。</p> <h2 id="outboundconfigurationobject"><a href="#outboundconfigurationobject" class="header-anchor">#</a> OutboundConfigurationObject</h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;vnext&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;example.com&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">443</span><span class="token punctuation">,</span>
            <span class="token property">&quot;users&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;27848739-7e62-4138-9fd3-098a63964b6b&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;encryption&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
                    <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>vnext</code>: [ <a href="#serverobject">ServerObject</a> ]</p></blockquote> <p>一个数组，包含一系列指向服务端的配置。</p> <h3 id="serverobject"><a href="#serverobject" class="header-anchor">#</a> ServerObject</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;example.com&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">443</span><span class="token punctuation">,</span>
    <span class="token property">&quot;users&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>address</code>: address</p></blockquote> <p>地址，指向服务端，支持域名、IPv4、IPv6。</p> <blockquote><p><code>port</code>: number</p></blockquote> <p>端口，通常与服务端监听的端口相同。</p> <blockquote><p><code>users</code>: [ <a href="#userobject">UserObject</a> ]</p></blockquote> <p>一组服务端认可的用户。</p> <h3 id="userobject"><a href="#userobject" class="header-anchor">#</a> UserObject</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;27848739-7e62-4138-9fd3-098a63964b6b&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;encryption&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>id</code>: string</p></blockquote> <p>VLESS 的用户 ID，必须是一个合法的 UUID，你可以用 <a href="/awesome/tools.html#在线工具">在线工具</a> 生成它。</p> <blockquote><p><code>encryption</code>: &quot;none&quot;</p></blockquote> <p>现阶段需要填 <code>&quot;none&quot;</code>，不能留空。该要求是为了提醒使用者没有加密，也为了以后出加密方式时，防止使用者填错属性名或填错位置导致裸奔。<br>
若未正确设置 encryption 的值，使用 v2ray 或 -test 时会收到错误信息。</p> <blockquote><p><code>level</code>: number</p></blockquote> <p>用户等级，详见 <a href="/config/policy.html">本地策略</a>。</p> <h2 id="inboundconfigurationobject"><a href="#inboundconfigurationobject" class="header-anchor">#</a> InboundConfigurationObject</h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;clients&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;27848739-7e62-4138-9fd3-098a63964b6b&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;love@v2fly.org&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;decryption&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fallbacks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;dest&quot;</span><span class="token operator">:</span> <span class="token number">80</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>clients</code>: [ <a href="#clientobject">ClientObject</a> ]</p></blockquote> <p>一组服务端认可的用户。</p> <blockquote><p><code>decryption</code>: &quot;none&quot;</p></blockquote> <p>注意这里是 decryption，和 clients 同级。现阶段同样需要填 <code>&quot;none&quot;</code>，不能留空。decryption 和 encryption 的位置不同，是因为若套一层约定加密，服务端需要先解密才能知道是哪个用户。<br>
若未正确设置 decryption 的值，使用 v2ray 或 -test 时会收到错误信息。</p> <blockquote><p><code>fallbacks</code>: [ <a href="#fallbackobject">FallbackObject</a> ]</p></blockquote> <p>可选 &amp; 强烈建议使用：基于首包长度分流（VLESS 原创）的新型协议回落模式，相较于其它协议回落方案，更简洁、高效、安全，功能也更强大。</p> <h3 id="clientobject"><a href="#clientobject" class="header-anchor">#</a> ClientObject</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;27848739-7e62-4138-9fd3-098a63964b6b&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;level&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;love@v2fly.org&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>id</code>: string</p></blockquote> <p>VLESS 的用户 ID，必须是一个合法的 UUID，你也可以用 <a href="/guide/command.html#v2ctl">V2Ctl</a> 生成它。</p> <blockquote><p><code>level</code>: number</p></blockquote> <p>用户等级，详见 <a href="/config/policy.html">本地策略</a>。</p> <blockquote><p><code>email</code>: string</p></blockquote> <p>用户邮箱，用于区分不同用户的流量（日志、统计）。</p> <h2 id="fallbackobject"><a href="#fallbackobject" class="header-anchor">#</a> FallbackObject</h2> <p><strong>强烈建议使用：基于首包长度分流（VLESS 原创）的新型协议回落模式，相较于其它协议回落方案，更简洁、高效、安全，功能也更强大。</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;alpn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dest&quot;</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
    <span class="token property">&quot;xver&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong><code>fallbacks</code></strong> 项是可选的，只能用于 TCP+TLS 传输组合。<strong>该项有子元素时，<a href="/config/transport.html#tlsobject">inbound TLS</a> 需设置 <code>&quot;alpn&quot;:[&quot;http/1.1&quot;]</code>。</strong><br>
VLESS 会把首包长度 &lt; 18，或协议版本无效或身份认证失败的流量转发到 <code>dest</code> 指定的地址。<br>
其它传输组合 <strong>必须删掉该项或所有子元素</strong>，此时也不会开启协议回落模式，VLESS 会等待读够所需长度，协议版本无效或身份认证失败时，将直接断开连接。</p> <p>注意：<strong><code>fallbacks</code></strong> 是一个数组（v4.27.2+），这里是子元素的配置说明，参数不同于以前的 <code>fallback</code>。<br>
通常，你需要先设置一组 <code>alpn</code> 和 <code>path</code> 均为空的默认回落，然后再按需配置其它回落。</p> <blockquote><p><code>alpn</code>: string</p></blockquote> <p>（新手先忽略）尝试匹配 TLS ALPN <strong>协商结果</strong>，空为任意，默认为空。建议只按需用两种值：留空或填 <code>&quot;h2&quot;</code>。</p> <p>智能说明：有需要时，VLESS 才会尝试读取 TLS ALPN 协商结果，若成功，输出 info <code>realAlpn =</code> 到日志。<br>
实际用途：解决了 Nginx 的 h2c 服务不能同时兼容 http/1.1 的问题，此时需要开两个 http 服务，分别是 1.1 和 2。<br>
注意事项：fallbacks alpn 存在 <code>&quot;h2&quot;</code> 时，<a href="/config/transport.html#tlsobject">inbound TLS</a> 需设置 <code>&quot;alpn&quot;:[&quot;h2&quot;,&quot;http/1.1&quot;]</code>，以支持 h2 访问。</p> <blockquote><p><code>path</code>: string</p></blockquote> <p>（新手先忽略）尝试匹配首包中的 HTTP PATH，空为任意，默认为空。非空必须以 <code>&quot;/&quot;</code> 开头，暂不支持 h2c。</p> <p>智能说明：有需要时，VLESS 才会尝试看一眼 PATH（最快算法，并不完整解析 HTTP），若成功，输出 info <code>realPath =</code> 到日志。<br>
实际用途：分流<strong>其它 inbound</strong> 的 WebSocket 流量或 HTTP 伪装流量。没有多余处理、纯粹转发流量，实测比 Nginx 反代更强。<br>
注意事项：千万注意 fallbacks 所在入站本身必须是 TCP+TLS，这是分流给其它 WS 入站用的，被分流的入站就无需 TLS 了。</p> <blockquote><p><code>dest</code>: string | number</p></blockquote> <p>决定流量的去向，目前支持两类地址：（该项必填，否则无法启动）</p> <ol><li>TCP，格式为 <code>&quot;addr:port&quot;</code>，其中 addr 支持域名、IPv4、IPv6，若填写域名，将直接发起连接（而不走内置的 DNS）。</li> <li>Unix domain socket，格式为绝对路径，形如 <code>&quot;/dev/shm/domain.socket&quot;</code>，可在开头加 <code>&quot;@&quot;</code> 代表 <a href="https://www.man7.org/linux/man-pages/man7/unix.7.html" target="_blank" rel="noopener noreferrer">abstract<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</li></ol> <p>若只填 port，数字或字符串均可，形如 <code>80</code>、<code>&quot;80&quot;</code>，通常指向一个明文 http 服务（addr 会被补为 <code>&quot;127.0.0.1&quot;</code>）。</p> <blockquote><p><code>xver</code>: number</p></blockquote> <p>（新手先忽略）发送 <a href="https://www.haproxy.org/download/2.2/doc/proxy-protocol.txt" target="_blank" rel="noopener noreferrer">PROXY protocol<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，专用于传递请求的真实来源 IP 和端口，填版本 1 或 2，默认为 0，即不启用。</p> <p>目前填 1 或 2，功能完全相同，只是结构不同，且前者可打印，后者为二进制。若有需要建议填 1。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>若你正在 <a href="https://docs.nginx.com/nginx/admin-guide/load-balancer/using-proxy-protocol/#configuring-nginx-to-accept-the-proxy-protocol" target="_blank" rel="noopener noreferrer">配置 Nginx 接收 PROXY protocol<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，除了设置 proxy_protocol 外，还需设置 set_real_ip_from，否则可能会出问题。</p></div> <h2 id="一些说明"><a href="#一些说明" class="header-anchor">#</a> 一些说明</h2> <p><a href="https://github.com/v2fly/v2ray-examples" target="_blank" rel="noopener noreferrer">v2ray-examples<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 有完整的 VLESS 配置示例供参考。（但目前不能保证其它协议的配置示例质量）</p> <p>待补充</p> <h2 id="新型协议回落模式解析"><a href="#新型协议回落模式解析" class="header-anchor">#</a> 新型协议回落模式解析</h2> <p>待补充</p> <h2 id="客户端指引"><a href="#客户端指引" class="header-anchor">#</a> 客户端指引</h2> <ol><li>VLESS 协议本身还会有不兼容升级，但客户端配置文件参数基本上是只增不减的。<strong>所以如果你开发了用 core 的客户端，现在就可以适配。</strong> iOS 客户端的协议实现则需紧跟升级。</li> <li><strong>视觉标准：UI 标识请统一用 VLESS</strong>，而不是 VLess / Vless / vless，配置文件不受影响，代码内则顺其自然。</li> <li><code>encryption</code> 应做成输入框而不是选择框，新配置的默认值应为 <code>none</code>，若用户置空则应代填 <code>none</code>。</li></ol> <p><strong>以下为已支持图形化配置 VLESS 的部分客户端列表，推荐使用：</strong>（按实现时间先后顺序排列）</p> <ul><li><a href="https://github.com/Qv2ray/Qv2ray" target="_blank" rel="noopener noreferrer">Qv2ray<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（v2.6.3+），支持 Linux、macOS、Windows</li> <li><a href="https://github.com/2dust/v2rayN" target="_blank" rel="noopener noreferrer">v2rayN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（v3.21+），支持 Windows</li> <li><a href="https://github.com/2dust/v2rayNG" target="_blank" rel="noopener noreferrer">v2rayNG<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（v1.3.0+），支持 Android</li> <li><a href="https://github.com/xiaorouji/openwrt-package" target="_blank" rel="noopener noreferrer">PassWall<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（v3.9.35+），支持 OpenWrt</li> <li><a href="https://github.com/mzz2017/v2rayA" target="_blank" rel="noopener noreferrer">v2rayA<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（v1.0.0+），支持 Linux</li></ul> <h2 id="vless-分享链接标准"><a href="#vless-分享链接标准" class="header-anchor">#</a> VLESS 分享链接标准</h2> <p>v2ray-core v4.28.0 会增强 TLS，VLESS 的分享链接标准也会同时出炉。为了避免生态混乱，在此之前请勿支持分享，更勿自创分享链接方案。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/v2fly/v2fly-github-io/edit/master/docs/config/protocols/vless.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">8/28/2020, 5:05:03 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/config/protocols/socks.html" class="prev">
        Socks
      </a></span> <span class="next"><a href="/config/protocols/vmess.html">
        VMess
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0a9b8f50.js" defer></script><script src="/assets/js/3.77274b2d.js" defer></script><script src="/assets/js/26.81fe1c3b.js" defer></script>
  </body>
</html>
